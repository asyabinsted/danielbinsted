@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Base Colors (HSL) */
  --color-white: 0 0% 100%;
  --color-black: 0 0% 13%;
  --color-blue: 212 64% 55%;

  /* Semantic Color Tokens */
  --primary: var(--color-blue);
  --primary-foreground: var(--color-white);
  --background: var(--color-black);
  --foreground: var(--color-white);

  /* Typography - Font Families */
  --font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-ibm-plex-mono: 'IBM Plex Mono', 'Courier New', monospace;

  /* Typography - H1 */
  --h1-font: var(--font-inter);
  --h1-weight: 500;
  --h1-size: 26px;
  --h1-line-height: 1.2;
  --h1-letter-spacing: -0.02em;

  /* Typography - Body */
  --body-font: var(--font-inter);
  --body-weight: 500;
  --body-size: 14px;
  --body-line-height: 1.5;
  --body-letter-spacing: -0.02em;

  /* Typography - Supporting / Navbar */
  --supporting-font: var(--font-ibm-plex-mono);
  --supporting-weight: 400;
  --supporting-size: 14px;
  --supporting-line-height: 1.5;
  --supporting-letter-spacing: -0.05em;
}

body {
  color: hsl(var(--foreground));
  background: hsl(var(--background));
  font-family: var(--body-font);
  font-weight: var(--body-weight);
  font-size: var(--body-size);
  line-height: var(--body-line-height);
  letter-spacing: var(--body-letter-spacing);
  margin: 0;
  padding: 0;
}

html {
  margin: 0;
  padding: 0;
}

/* Typography Utility Classes */
@layer components {
  .text-h1 {
    font-family: var(--h1-font);
    font-weight: var(--h1-weight);
    font-size: var(--h1-size);
    line-height: var(--h1-line-height);
    letter-spacing: var(--h1-letter-spacing);
  }

  .text-body {
    font-family: var(--body-font);
    font-weight: var(--body-weight);
    font-size: var(--body-size);
    line-height: var(--body-line-height);
    letter-spacing: var(--body-letter-spacing);
  }

  .text-supporting {
    font-family: var(--supporting-font);
    font-weight: var(--supporting-weight);
    font-size: var(--supporting-size);
    line-height: var(--supporting-line-height);
    letter-spacing: var(--supporting-letter-spacing);
  }

  /* 12-Column Grid System */
  .container-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 20px;
    padding-left: 20px;
    padding-right: 20px;
    max-width: 100%;
    margin: 0 auto;
  }

  /* Header Progressive Blur */
  .header-progressive-blur {
    position: relative;
    background: transparent;
    overflow: hidden;
  }

  .header-progressive-blur::before {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: -1;
  }

  /* Create multiple blur layers for progressive effect */
  .header-progressive-blur::after {
    content: '';
    position: absolute;
    inset: 0;
    background: 
      linear-gradient(to bottom, 
        transparent 0%,
        transparent 100%
      );
    backdrop-filter: 
      blur(20px) /* Strong blur at top */
      opacity(1);
    -webkit-backdrop-filter: 
      blur(20px)
      opacity(1);
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 0) 100%
    );
    -webkit-mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 1) 0%,
      rgba(0, 0, 0, 0) 100%
    );
    pointer-events: none;
    z-index: -1;
  }

  .header-progressive-blur::before {
    backdrop-filter: blur(4px); /* Light blur at bottom */
    -webkit-backdrop-filter: blur(4px);
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 0, 0, 1) 100%
    );
    -webkit-mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 0%,
      rgba(0, 0, 0, 1) 100%
    );
  }

  /* Navigation Link Styles */
  .nav-link {
    position: relative;
    display: inline-block;
    overflow: visible;
    cursor: pointer;
    padding-bottom: 1px;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 0.5px;
    background-color: currentColor;
    opacity: 0;
    transform: scaleX(0);
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .nav-link.active::after {
    opacity: 1;
    transform: scaleX(1);
  }

  /* Rolling Text Animation */
  .rolling-text-container {
    display: inline-flex;
  }

  .rolling-letter {
    display: inline-block;
    overflow: hidden;
    height: 1.5em;
    line-height: 1.5em;
  }

  .letter-wrapper {
    display: inline-flex;
    flex-direction: column;
    transform: translateY(0);
    transition: transform 0.5s cubic-bezier(0.76, 0, 0.24, 1);
  }

  .letter-original,
  .letter-duplicate {
    display: inline-block;
    height: 1.5em;
    line-height: 1.5em;
  }

  /* Circular roll animation on hover */
  .nav-link:hover .rolling-letter .letter-wrapper {
    animation: rollUpLoop 0.6s cubic-bezier(0.76, 0, 0.24, 1) forwards;
    animation-delay: inherit;
  }

  @keyframes rollUpLoop {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(-50%);
    }
  }

  /* Roll back animation when hover ends */
  .nav-link:not(:hover) .rolling-letter .letter-wrapper {
    animation: rollDownLoop 0.6s cubic-bezier(0.76, 0, 0.24, 1) forwards;
    animation-delay: inherit;
  }

  @keyframes rollDownLoop {
    0% {
      transform: translateY(-50%);
    }
    100% {
      transform: translateY(0);
    }
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

